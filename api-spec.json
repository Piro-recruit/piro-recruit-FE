{
  "openapi": "3.0.1",
  "info": {
    "title": "Piro Recruit API",
    "description": "대학생 IT 개발 동아리 지원서 관리 시스템 API",
    "version": "1.0.0"
  },
  "servers": [
    {
      "url": "http://localhost:8080",
      "description": "Development Server"
    }
  ],
  "tags": [
    {
      "name": "Admin",
      "description": "관리자 인증 및 권한 관리"
    },
    {
      "name": "AI Summary",
      "description": "AI 지원서 요약 및 분석"
    },
    {
      "name": "Google Form",
      "description": "구글 폼 관리"
    },
    {
      "name": "Mail",
      "description": "메일 발송"
    },
    {
      "name": "Mail Subscriber",
      "description": "메일 구독자 관리"
    },
    {
      "name": "Webhook Application",
      "description": "웹훅 지원서 관리"
    }
  ],
  "paths": {
    "/api/admin/login": {
      "post": {
        "tags": ["Admin"],
        "summary": "관리자 로그인",
        "description": "관리자 인증을 통해 JWT 토큰을 발급받습니다.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "로그인 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoginResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/refresh": {
      "post": {
        "tags": ["Admin"],
        "summary": "토큰 갱신",
        "description": "리프레시 토큰으로 새 액세스 토큰을 발급받습니다.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RefreshTokenRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "토큰 갱신 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoginResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/token/exchange": {
      "post": {
        "tags": ["Admin"],
        "summary": "API Key → JWT 교환",
        "description": "외부 서비스용 API Key를 JWT로 교환합니다.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ApiKeyExchangeRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "토큰 교환 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TokenExchangeResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/general": {
      "post": {
        "tags": ["Admin"],
        "summary": "General Admin 생성",
        "description": "일반 관리자를 생성합니다. (ROOT 권한 필요)",
        "security": [{"bearerAuth": []}],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateGeneralAdminRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "관리자 생성 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GeneralAdminResponse"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": ["Admin"],
        "summary": "General Admin 전체 조회",
        "description": "모든 일반 관리자를 조회합니다. (ROOT 권한 필요)",
        "security": [{"bearerAuth": []}],
        "responses": {
          "200": {
            "description": "조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/GeneralAdminResponse"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/general/batch": {
      "post": {
        "tags": ["Admin"],
        "summary": "General Admin 일괄 생성",
        "description": "일반 관리자를 일괄 생성합니다. (ROOT 권한 필요)",
        "security": [{"bearerAuth": []}],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateGeneralAdminBatchRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "일괄 생성 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateGeneralAdminBatchResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/general/expired": {
      "delete": {
        "tags": ["Admin"],
        "summary": "만료된 General Admin 삭제",
        "description": "만료된 일반 관리자를 삭제합니다. (ROOT 권한 필요)",
        "security": [{"bearerAuth": []}],
        "responses": {
          "200": {
            "description": "삭제 성공"
          }
        }
      }
    },
    "/api/admin/general/all": {
      "delete": {
        "tags": ["Admin"],
        "summary": "모든 General Admin 일괄 삭제",
        "description": "모든 일반 관리자를 일괄 삭제합니다. (ROOT 권한 필요)",
        "security": [{"bearerAuth": []}],
        "responses": {
          "200": {
            "description": "일괄 삭제 성공"
          }
        }
      }
    },
    "/api/ai-summary/test": {
      "get": {
        "tags": ["AI Summary"],
        "summary": "더미 지원서 분석 테스트",
        "description": "미리 준비된 더미 지원서 데이터를 사용하여 IT 개발 동아리 맞춤 AI 분석 기능을 테스트합니다.",
        "security": [{"bearerAuth": []}],
        "responses": {
          "200": {
            "description": "요약 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApplicationSummaryResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/ai-summary/analyze": {
      "post": {
        "tags": ["AI Summary"],
        "summary": "동적 지원서 분석",
        "description": "대학생 IT 개발 동아리 지원서를 AI로 분석하여 협업, 성장, 열정 기준으로 평가합니다.",
        "security": [{"bearerAuth": []}],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/ApplicationQuestionDto"
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "분석 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApplicationSummaryResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/google-forms": {
      "post": {
        "tags": ["Google Form"],
        "summary": "새 구글 폼 생성",
        "description": "새로운 구글 폼을 등록합니다.",
        "security": [{"bearerAuth": []}],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GoogleFormRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "구글 폼 생성 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GoogleFormResponse"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": ["Google Form"],
        "summary": "전체 구글 폼 조회",
        "description": "모든 구글 폼을 최신순으로 조회합니다.",
        "security": [{"bearerAuth": []}],
        "parameters": [
          {
            "name": "includeApplicationCount",
            "in": "query",
            "description": "지원서 개수 포함 여부",
            "schema": {
              "type": "boolean",
              "default": false
            }
          }
        ],
        "responses": {
          "200": {
            "description": "조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/GoogleFormResponse"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/google-forms/{id}": {
      "get": {
        "tags": ["Google Form"],
        "summary": "특정 구글 폼 조회",
        "description": "ID를 기준으로 특정 구글 폼을 조회합니다.",
        "security": [{"bearerAuth": []}],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "구글 폼 ID",
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "includeApplicationCount",
            "in": "query",
            "description": "지원서 개수 포함 여부",
            "schema": {
              "type": "boolean",
              "default": true
            }
          }
        ],
        "responses": {
          "200": {
            "description": "조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GoogleFormResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/google-forms/form-id/{formId}": {
      "get": {
        "tags": ["Google Form"],
        "summary": "폼 ID로 구글 폼 조회",
        "description": "구글 폼 ID를 기준으로 구글 폼을 조회합니다.",
        "security": [{"bearerAuth": []}],
        "parameters": [
          {
            "name": "formId",
            "in": "path",
            "required": true,
            "description": "구글 폼 ID",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "includeApplicationCount",
            "in": "query",
            "description": "지원서 개수 포함 여부",
            "schema": {
              "type": "boolean",
              "default": true
            }
          }
        ],
        "responses": {
          "200": {
            "description": "조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GoogleFormResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/google-forms/active": {
      "get": {
        "tags": ["Google Form"],
        "summary": "현재 활성화된 구글 폼 조회",
        "description": "현재 활성화된 구글 폼을 조회합니다.",
        "security": [{"bearerAuth": []}],
        "responses": {
          "200": {
            "description": "조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GoogleFormResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/google-forms/active-forms": {
      "get": {
        "tags": ["Google Form"],
        "summary": "활성화된 구글 폼들 조회",
        "description": "활성화된 모든 구글 폼을 조회합니다.",
        "security": [{"bearerAuth": []}],
        "responses": {
          "200": {
            "description": "조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/GoogleFormResponse"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/google-forms/{id}/activate": {
      "put": {
        "tags": ["Google Form"],
        "summary": "구글 폼 활성화",
        "description": "특정 구글 폼을 활성화합니다.",
        "security": [{"bearerAuth": []}],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "구글 폼 ID",
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "활성화 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GoogleFormResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/google-forms/{id}/deactivate": {
      "put": {
        "tags": ["Google Form"],
        "summary": "구글 폼 비활성화",
        "description": "특정 구글 폼을 비활성화합니다.",
        "security": [{"bearerAuth": []}],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "구글 폼 ID",
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "비활성화 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GoogleFormResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/google-forms/{id}/form-url": {
      "put": {
        "tags": ["Google Form"],
        "summary": "구글 폼 URL 업데이트",
        "description": "구글 폼의 URL을 업데이트합니다.",
        "security": [{"bearerAuth": []}],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "구글 폼 ID",
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "formUrl": {
                    "type": "string",
                    "description": "새로운 구글 폼 URL"
                  }
                },
                "required": ["formUrl"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "URL 업데이트 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GoogleFormResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/google-forms/{id}/sheet-url": {
      "put": {
        "tags": ["Google Form"],
        "summary": "구글 시트 URL 업데이트",
        "description": "구글 시트의 URL을 업데이트합니다.",
        "security": [{"bearerAuth": []}],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "구글 폼 ID",
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "sheetUrl": {
                    "type": "string",
                    "description": "새로운 구글 시트 URL"
                  }
                },
                "required": ["sheetUrl"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "URL 업데이트 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GoogleFormResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/google-forms/{id}/statistics": {
      "get": {
        "tags": ["Google Form"],
        "summary": "구글 폼 통계 정보",
        "description": "특정 구글 폼의 상세 통계 정보를 조회합니다.",
        "security": [{"bearerAuth": []}],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "구글 폼 ID",
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "통계 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GoogleFormStatistics"
                }
              }
            }
          }
        }
      }
    },
    "/api/google-forms/search": {
      "get": {
        "tags": ["Google Form"],
        "summary": "제목으로 구글 폼 검색",
        "description": "제목을 기준으로 구글 폼을 검색합니다.",
        "security": [{"bearerAuth": []}],
        "parameters": [
          {
            "name": "title",
            "in": "query",
            "required": true,
            "description": "검색할 제목",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "검색 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/GoogleFormResponse"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/mail/single": {
      "post": {
        "tags": ["Mail"],
        "summary": "단일 메일 발송",
        "description": "지정된 수신자에게 메일을 발송합니다.",
        "security": [{"bearerAuth": []}],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SingleMailRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "메일 발송 성공"
          }
        }
      }
    },
    "/mail/bulk": {
      "post": {
        "tags": ["Mail"],
        "summary": "일괄 메일 발송",
        "description": "등록된 모든 수신자에게 동일한 내용의 메일을 일괄 발송합니다.",
        "security": [{"bearerAuth": []}],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BulkMailRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "일괄 메일 발송 성공"
          }
        }
      }
    },
    "/mail/subscribers": {
      "post": {
        "tags": ["Mail Subscriber"],
        "summary": "구독자 생성",
        "description": "새로운 메일 구독자를 등록합니다.",
        "security": [{"bearerAuth": []}],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MailSubscriberCreateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "구독자 등록 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MailSubscriberResponse"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": ["Mail Subscriber"],
        "summary": "구독자 목록 조회",
        "description": "페이징으로 구독자 목록을 조회합니다.",
        "security": [{"bearerAuth": []}],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "페이지 번호",
            "schema": {
              "type": "integer",
              "default": 0
            }
          },
          {
            "name": "size",
            "in": "query",
            "description": "페이지 크기",
            "schema": {
              "type": "integer",
              "default": 20
            }
          },
          {
            "name": "email",
            "in": "query",
            "description": "이메일 검색",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PageMailSubscriberResponse"
                }
              }
            }
          }
        }
      }
    },
    "/mail/subscribers/{email}": {
      "get": {
        "tags": ["Mail Subscriber"],
        "summary": "구독자 조회",
        "description": "이메일로 구독자 정보를 조회합니다.",
        "security": [{"bearerAuth": []}],
        "parameters": [
          {
            "name": "email",
            "in": "path",
            "required": true,
            "description": "구독자 이메일",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MailSubscriberResponse"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": ["Mail Subscriber"],
        "summary": "구독자 수정",
        "description": "구독자의 이메일을 수정합니다.",
        "security": [{"bearerAuth": []}],
        "parameters": [
          {
            "name": "email",
            "in": "path",
            "required": true,
            "description": "구독자 이메일",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MailSubscriberUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "수정 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MailSubscriberResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["Mail Subscriber"],
        "summary": "구독자 삭제",
        "description": "구독자를 삭제합니다.",
        "security": [{"bearerAuth": []}],
        "parameters": [
          {
            "name": "email",
            "in": "path",
            "required": true,
            "description": "구독자 이메일",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "삭제 성공"
          }
        }
      }
    },
    "/mail/subscribers/count": {
      "get": {
        "tags": ["Mail Subscriber"],
        "summary": "구독자 수 조회",
        "description": "전체 구독자 수를 조회합니다.",
        "security": [{"bearerAuth": []}],
        "responses": {
          "200": {
            "description": "조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "integer",
                  "format": "int64"
                }
              }
            }
          }
        }
      }
    },
    "/api/webhook/applications/receive": {
      "post": {
        "tags": ["Webhook Application"],
        "summary": "웹훅 지원서 수신",
        "description": "구글 폼에서 전송된 지원서 데이터를 받아 저장합니다.",
        "security": [{"bearerAuth": []}],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WebhookApplicationRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "지원서 저장 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WebhookApplicationResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/webhook/applications": {
      "get": {
        "tags": ["Webhook Application"],
        "summary": "전체 지원서 조회",
        "description": "저장된 모든 지원서를 최신순으로 조회합니다.",
        "security": [{"bearerAuth": []}],
        "responses": {
          "200": {
            "description": "조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/WebhookApplicationResponse"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/webhook/applications/google-form/{googleFormId}": {
      "get": {
        "tags": ["Webhook Application"],
        "summary": "구글 폼별 지원서 조회",
        "description": "특정 구글 폼의 모든 지원서를 조회합니다.",
        "security": [{"bearerAuth": []}],
        "parameters": [
          {
            "name": "googleFormId",
            "in": "path",
            "required": true,
            "description": "구글 폼 ID",
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/WebhookApplicationResponse"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/webhook/applications/form-id/{formId}": {
      "get": {
        "tags": ["Webhook Application"],
        "summary": "폼 ID별 지원서 조회",
        "description": "특정 폼 ID의 모든 지원서를 조회합니다.",
        "security": [{"bearerAuth": []}],
        "parameters": [
          {
            "name": "formId",
            "in": "path",
            "required": true,
            "description": "구글 폼 식별자",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/WebhookApplicationResponse"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/webhook/applications/{id}": {
      "get": {
        "tags": ["Webhook Application"],
        "summary": "특정 지원서 조회",
        "description": "ID를 기준으로 특정 지원서를 조회합니다.",
        "security": [{"bearerAuth": []}],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "지원서 ID",
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WebhookApplicationResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/webhook/applications/by-email": {
      "get": {
        "tags": ["Webhook Application"],
        "summary": "이메일로 지원서 조회",
        "description": "이메일을 기준으로 지원서를 조회합니다.",
        "security": [{"bearerAuth": []}],
        "parameters": [
          {
            "name": "email",
            "in": "query",
            "required": true,
            "description": "지원자 이메일",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WebhookApplicationResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/webhook/applications/google-form/{googleFormId}/by-email": {
      "get": {
        "tags": ["Webhook Application"],
        "summary": "구글 폼별 이메일로 지원서 조회",
        "description": "특정 구글 폼에서 이메일을 기준으로 지원서를 조회합니다.",
        "security": [{"bearerAuth": []}],
        "parameters": [
          {
            "name": "googleFormId",
            "in": "path",
            "required": true,
            "description": "구글 폼 ID",
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "email",
            "in": "query",
            "required": true,
            "description": "지원자 이메일",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WebhookApplicationResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/webhook/applications/form-id/{formId}/by-email": {
      "get": {
        "tags": ["Webhook Application"],
        "summary": "폼 ID별 이메일로 지원서 조회",
        "description": "특정 폼 ID에서 이메일을 기준으로 지원서를 조회합니다.",
        "security": [{"bearerAuth": []}],
        "parameters": [
          {
            "name": "formId",
            "in": "path",
            "required": true,
            "description": "구글 폼 ID",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "email",
            "in": "query",
            "required": true,
            "description": "지원자 이메일",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WebhookApplicationResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/webhook/applications/by-status": {
      "get": {
        "tags": ["Webhook Application"],
        "summary": "처리 상태별 지원서 조회",
        "description": "처리 상태를 기준으로 지원서를 조회합니다.",
        "security": [{"bearerAuth": []}],
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "required": true,
            "description": "처리 상태",
            "schema": {
              "type": "string",
              "enum": ["PENDING", "COMPLETED", "FAILED"]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/WebhookApplicationResponse"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/webhook/applications/google-form/{googleFormId}/by-status": {
      "get": {
        "tags": ["Webhook Application"],
        "summary": "구글 폼별 상태별 지원서 조회",
        "description": "특정 구글 폼에서 처리 상태를 기준으로 지원서를 조회합니다.",
        "security": [{"bearerAuth": []}],
        "parameters": [
          {
            "name": "googleFormId",
            "in": "path",
            "required": true,
            "description": "구글 폼 ID",
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "status",
            "in": "query",
            "required": true,
            "description": "처리 상태",
            "schema": {
              "type": "string",
              "enum": ["PENDING", "COMPLETED", "FAILED"]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/WebhookApplicationResponse"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/webhook/applications/check": {
      "get": {
        "tags": ["Webhook Application"],
        "summary": "지원서 제출 여부 확인",
        "description": "이메일을 기준으로 지원서 제출 여부를 확인합니다.",
        "security": [{"bearerAuth": []}],
        "parameters": [
          {
            "name": "email",
            "in": "query",
            "required": true,
            "description": "확인할 이메일",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "확인 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApplicationCheckResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/webhook/applications/google-form/{googleFormId}/check": {
      "get": {
        "tags": ["Webhook Application"],
        "summary": "구글 폼별 지원서 제출 여부 확인",
        "description": "특정 구글 폼에서 이메일을 기준으로 지원서 제출 여부를 확인합니다.",
        "security": [{"bearerAuth": []}],
        "parameters": [
          {
            "name": "googleFormId",
            "in": "path",
            "required": true,
            "description": "구글 폼 ID",
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "email",
            "in": "query",
            "required": true,
            "description": "확인할 이메일",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "확인 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApplicationCheckResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/webhook/applications/form-id/{formId}/check": {
      "get": {
        "tags": ["Webhook Application"],
        "summary": "폼 ID별 지원서 제출 여부 확인",
        "description": "특정 폼 ID에서 이메일을 기준으로 지원서 제출 여부를 확인합니다.",
        "security": [{"bearerAuth": []}],
        "parameters": [
          {
            "name": "formId",
            "in": "path",
            "required": true,
            "description": "구글 폼 ID",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "email",
            "in": "query",
            "required": true,
            "description": "확인할 이메일",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "확인 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApplicationCheckResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/webhook/applications/pending-count": {
      "get": {
        "tags": ["Webhook Application"],
        "summary": "대기 중인 지원서 개수",
        "description": "처리 대기 중인 지원서의 개수를 조회합니다.",
        "security": [{"bearerAuth": []}],
        "responses": {
          "200": {
            "description": "개수 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "pendingCount": {
                      "type": "integer",
                      "format": "int64"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/webhook/applications/google-form/{googleFormId}/count": {
      "get": {
        "tags": ["Webhook Application"],
        "summary": "구글 폼별 지원서 개수",
        "description": "특정 구글 폼의 총 지원서 개수를 조회합니다.",
        "security": [{"bearerAuth": []}],
        "parameters": [
          {
            "name": "googleFormId",
            "in": "path",
            "required": true,
            "description": "구글 폼 ID",
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "개수 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "googleFormId": {
                      "type": "integer",
                      "format": "int64"
                    },
                    "applicationCount": {
                      "type": "integer",
                      "format": "int64"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/webhook/applications/form-id/{formId}/count": {
      "get": {
        "tags": ["Webhook Application"],
        "summary": "폼 ID별 지원서 개수",
        "description": "특정 폼 ID의 총 지원서 개수를 조회합니다.",
        "security": [{"bearerAuth": []}],
        "parameters": [
          {
            "name": "formId",
            "in": "path",
            "required": true,
            "description": "구글 폼 ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "개수 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "formId": {
                      "type": "string"
                    },
                    "applicationCount": {
                      "type": "integer",
                      "format": "int64"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/webhook/applications/statistics": {
      "get": {
        "tags": ["Webhook Application"],
        "summary": "상태별 통계 조회",
        "description": "전체 지원서의 상태별 통계를 조회합니다.",
        "security": [{"bearerAuth": []}],
        "responses": {
          "200": {
            "description": "통계 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApplicationStatistics"
                }
              }
            }
          }
        }
      }
    },
    "/api/webhook/applications/google-form/{googleFormId}/statistics": {
      "get": {
        "tags": ["Webhook Application"],
        "summary": "구글 폼별 상태별 통계 조회",
        "description": "특정 구글 폼의 상태별 통계를 조회합니다.",
        "security": [{"bearerAuth": []}],
        "parameters": [
          {
            "name": "googleFormId",
            "in": "path",
            "required": true,
            "description": "구글 폼 ID",
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "통계 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApplicationStatistics"
                }
              }
            }
          }
        }
      }
    },
    "/api/webhook/applications/test": {
      "post": {
        "tags": ["Webhook Application"],
        "summary": "웹훅 연결 테스트",
        "description": "Apps Script와의 연결을 테스트하기 위한 엔드포인트입니다.",
        "security": [{"bearerAuth": []}],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": true
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "테스트 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WebhookTestResponse"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    },
    "schemas": {
      "ApiResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "요청 성공 여부"
          },
          "data": {
            "type": "object",
            "description": "응답 데이터"
          },
          "message": {
            "type": "string",
            "description": "응답 메시지"
          },
          "status": {
            "type": "integer",
            "description": "HTTP 상태 코드"
          },
          "code": {
            "type": "string",
            "description": "에러 코드"
          },
          "time": {
            "type": "string",
            "description": "응답 시간"
          }
        }
      },
      "LoginRequest": {
        "type": "object",
        "required": ["username", "password"],
        "properties": {
          "username": {
            "type": "string",
            "description": "관리자 아이디"
          },
          "password": {
            "type": "string",
            "description": "관리자 비밀번호"
          }
        }
      },
      "LoginResponse": {
        "type": "object",
        "properties": {
          "accessToken": {
            "type": "string",
            "description": "JWT 액세스 토큰"
          },
          "refreshToken": {
            "type": "string",
            "description": "리프레시 토큰"
          },
          "expiresIn": {
            "type": "integer",
            "description": "토큰 만료 시간(초)"
          }
        }
      },
      "RefreshTokenRequest": {
        "type": "object",
        "required": ["refreshToken"],
        "properties": {
          "refreshToken": {
            "type": "string",
            "description": "리프레시 토큰"
          }
        }
      },
      "ApiKeyExchangeRequest": {
        "type": "object",
        "required": ["apiKey"],
        "properties": {
          "apiKey": {
            "type": "string",
            "description": "API 키"
          }
        }
      },
      "TokenExchangeResponse": {
        "type": "object",
        "properties": {
          "token": {
            "type": "string",
            "description": "JWT 토큰"
          },
          "expiresIn": {
            "type": "integer",
            "description": "토큰 만료 시간(초)"
          }
        }
      },
      "CreateGeneralAdminRequest": {
        "type": "object",
        "required": ["username", "password"],
        "properties": {
          "username": {
            "type": "string",
            "description": "관리자 아이디"
          },
          "password": {
            "type": "string",
            "description": "관리자 비밀번호"
          },
          "expirationDays": {
            "type": "integer",
            "description": "만료 기간(일)"
          }
        }
      },
      "GeneralAdminResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64",
            "description": "관리자 ID"
          },
          "username": {
            "type": "string",
            "description": "관리자 아이디"
          },
          "role": {
            "type": "string",
            "description": "관리자 역할"
          },
          "expiresAt": {
            "type": "string",
            "format": "date-time",
            "description": "만료 일시"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "생성 일시"
          }
        }
      },
      "CreateGeneralAdminBatchRequest": {
        "type": "object",
        "required": ["admins"],
        "properties": {
          "admins": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CreateGeneralAdminRequest"
            },
            "description": "생성할 관리자 목록"
          }
        }
      },
      "CreateGeneralAdminBatchResponse": {
        "type": "object",
        "properties": {
          "created": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/GeneralAdminResponse"
            },
            "description": "생성된 관리자 목록"
          },
          "failed": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "실패한 관리자 아이디 목록"
          }
        }
      },
      "ApplicationQuestionDto": {
        "type": "object",
        "required": ["question", "answer"],
        "properties": {
          "question": {
            "type": "string",
            "description": "질문 내용"
          },
          "answer": {
            "type": "string",
            "description": "답변 내용"
          }
        }
      },
      "ApplicationSummaryDto": {
        "type": "object",
        "properties": {
          "overallSummary": {
            "type": "string",
            "description": "전체 요약"
          },
          "keyStrengths": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "주요 강점"
          },
          "technicalSkills": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "기술 스킬"
          },
          "experience": {
            "type": "string",
            "description": "경험 요약"
          },
          "motivation": {
            "type": "string",
            "description": "지원 동기"
          },
          "scoreOutOf100": {
            "type": "integer",
            "description": "100점 만점 점수"
          }
        }
      },
      "ApplicationSummaryResponse": {
        "allOf": [
          {
            "$ref": "#/components/schemas/ApiResponse"
          },
          {
            "type": "object",
            "properties": {
              "data": {
                "$ref": "#/components/schemas/ApplicationSummaryDto"
              }
            }
          }
        ]
      },
      "GoogleFormRequest": {
        "type": "object",
        "required": ["formId", "title", "formUrl"],
        "properties": {
          "formId": {
            "type": "string",
            "description": "구글 폼 ID"
          },
          "title": {
            "type": "string",
            "description": "구글 폼 제목"
          },
          "formUrl": {
            "type": "string",
            "description": "구글 폼 URL"
          },
          "sheetUrl": {
            "type": "string",
            "description": "구글 시트 URL"
          }
        }
      },
      "GoogleFormResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64",
            "description": "구글 폼 ID"
          },
          "formId": {
            "type": "string",
            "description": "구글 폼 식별자"
          },
          "title": {
            "type": "string",
            "description": "구글 폼 제목"
          },
          "formUrl": {
            "type": "string",
            "description": "구글 폼 URL"
          },
          "sheetUrl": {
            "type": "string",
            "description": "구글 시트 URL"
          },
          "isActive": {
            "type": "boolean",
            "description": "활성화 상태"
          },
          "applicationCount": {
            "type": "integer",
            "format": "int64",
            "description": "지원서 개수"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "생성 일시"
          }
        }
      },
      "GoogleFormStatistics": {
        "type": "object",
        "properties": {
          "googleFormId": {
            "type": "integer",
            "format": "int64",
            "description": "구글 폼 ID"
          },
          "formId": {
            "type": "string",
            "description": "구글 폼 식별자"
          },
          "formTitle": {
            "type": "string",
            "description": "구글 폼 제목"
          },
          "totalApplications": {
            "type": "integer",
            "format": "int64",
            "description": "총 지원서 수"
          },
          "statusStatistics": {
            "type": "object",
            "additionalProperties": {
              "type": "integer",
              "format": "int64"
            },
            "description": "상태별 통계"
          },
          "isActive": {
            "type": "boolean",
            "description": "활성화 상태"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "생성 일시"
          }
        }
      },
      "SingleMailRequest": {
        "type": "object",
        "required": ["to", "subject", "content"],
        "properties": {
          "to": {
            "type": "string",
            "description": "수신자 이메일"
          },
          "subject": {
            "type": "string",
            "description": "메일 제목"
          },
          "content": {
            "type": "string",
            "description": "메일 내용"
          }
        }
      },
      "BulkMailRequest": {
        "type": "object",
        "required": ["subject", "content"],
        "properties": {
          "subject": {
            "type": "string",
            "description": "메일 제목"
          },
          "content": {
            "type": "string",
            "description": "메일 내용"
          }
        }
      },
      "MailSubscriberCreateRequest": {
        "type": "object",
        "required": ["email"],
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "description": "구독자 이메일"
          },
          "name": {
            "type": "string",
            "description": "구독자 이름"
          }
        }
      },
      "MailSubscriberUpdateRequest": {
        "type": "object",
        "required": ["email"],
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "description": "새 이메일"
          },
          "name": {
            "type": "string",
            "description": "구독자 이름"
          }
        }
      },
      "MailSubscriberResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64",
            "description": "구독자 ID"
          },
          "email": {
            "type": "string",
            "description": "구독자 이메일"
          },
          "name": {
            "type": "string",
            "description": "구독자 이름"
          },
          "subscribed": {
            "type": "boolean",
            "description": "구독 상태"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "가입 일시"
          }
        }
      },
      "PageMailSubscriberResponse": {
        "type": "object",
        "properties": {
          "content": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MailSubscriberResponse"
            }
          },
          "pageable": {
            "type": "object",
            "properties": {
              "pageNumber": {
                "type": "integer"
              },
              "pageSize": {
                "type": "integer"
              }
            }
          },
          "totalElements": {
            "type": "integer",
            "format": "int64"
          },
          "totalPages": {
            "type": "integer"
          },
          "last": {
            "type": "boolean"
          },
          "first": {
            "type": "boolean"
          }
        }
      },
      "WebhookApplicationRequest": {
        "type": "object",
        "required": ["formId", "applicantEmail", "applicantName"],
        "properties": {
          "formId": {
            "type": "string",
            "description": "구글 폼 ID"
          },
          "applicantEmail": {
            "type": "string",
            "format": "email",
            "description": "지원자 이메일"
          },
          "applicantName": {
            "type": "string",
            "description": "지원자 이름"
          },
          "formData": {
            "type": "object",
            "additionalProperties": true,
            "description": "폼 데이터"
          }
        }
      },
      "WebhookApplicationResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64",
            "description": "지원서 ID"
          },
          "formId": {
            "type": "string",
            "description": "구글 폼 ID"
          },
          "applicantEmail": {
            "type": "string",
            "description": "지원자 이메일"
          },
          "applicantName": {
            "type": "string",
            "description": "지원자 이름"
          },
          "formData": {
            "type": "object",
            "additionalProperties": true,
            "description": "폼 데이터"
          },
          "processingStatus": {
            "type": "string",
            "enum": ["PENDING", "COMPLETED", "FAILED"],
            "description": "처리 상태"
          },
          "submittedAt": {
            "type": "string",
            "format": "date-time",
            "description": "제출 일시"
          }
        }
      },
      "ApplicationCheckResponse": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "description": "지원자 이메일"
          },
          "submitted": {
            "type": "boolean",
            "description": "제출 여부"
          },
          "status": {
            "type": "string",
            "description": "제출 상태"
          }
        }
      },
      "ApplicationStatistics": {
        "type": "object",
        "properties": {
          "PENDING": {
            "type": "integer",
            "format": "int64",
            "description": "대기 중인 지원서 수"
          },
          "COMPLETED": {
            "type": "integer",
            "format": "int64",
            "description": "완료된 지원서 수"
          },
          "FAILED": {
            "type": "integer",
            "format": "int64",
            "description": "실패한 지원서 수"
          }
        }
      },
      "WebhookTestResponse": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "description": "테스트 상태"
          },
          "message": {
            "type": "string",
            "description": "테스트 메시지"
          },
          "timestamp": {
            "type": "integer",
            "format": "int64",
            "description": "타임스탬프"
          },
          "receivedData": {
            "type": "object",
            "additionalProperties": true,
            "description": "수신된 데이터"
          }
        }
      }
    }
  }
}